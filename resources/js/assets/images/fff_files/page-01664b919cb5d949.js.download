(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9130],{18833:function(e,t,n){Promise.resolve().then(n.bind(n,68513))},68513:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var l=n(57437),s=n(26583),a=n(45858),u=n(4239),i=n(18661),o=n(78757),c=n(47907),r=n(2265),f=n(45169),d=n(27864);function b(){let{error:e}=(0,u.Z)(),t=(0,c.useRouter)(),n=(0,o.Dv)(s.cq);(0,r.useEffect)(()=>{e&&t.replace("/auth/signin")},[t,e]);let b=(0,o.Dv)(s.PC),h=(0,r.useCallback)(()=>{if(!(0,f.Z)(b)){if(b)t.replace("/auth/new-user-sign-in-successful");else{let e=(0,d.$o)(a.jH);if((null==e?void 0:e.submitted)&&(null==e?void 0:e.status)!=="aborted"){t.replace("/onboarding");return}let n=sessionStorage.getItem(a.ZT),l=!n||(null==n?void 0:n.startsWith("/auth"))||(null==n?void 0:n.startsWith("/onboarding"))?"/":n;t.replace(l)}}},[t,b]);return(0,r.useEffect)(()=>{n&&!(0,f.Z)(b)&&h()},[h,n,b]),(0,l.jsx)("div",{className:"size-full flex justify-center items-center","data-testid":"auth0-callback-page",children:(0,l.jsx)(i.gb,{})})}},4239:function(e,t,n){"use strict";var l=n(26583),s=n(45858),a=n(27864),u=n(63332),i=n(78757),o=n(2265);t.Z=()=>{let{loginWithRedirect:e,isAuthenticated:t,isLoading:n,logout:c,getAccessTokenSilently:r,getIdTokenClaims:f,error:d}=(0,u.D3)(),[b,h]=(0,i.KO)(l.cq),g=(0,i.b9)(l.hz),v=(0,i.b9)(l.Mq),k=(0,i.b9)(l.PC),p=(0,o.useCallback)(()=>{let t="".concat(window.location.pathname).concat(window.location.search);sessionStorage.setItem(s.ZT,t),v(!1),e()},[e,v]);(0,o.useEffect)(()=>{g(n)},[n,g]);let m=(0,o.useCallback)(e=>t?r(e).then(e=>{"string"==typeof e&&(localStorage.setItem("token",e),h(!0))}):Promise.resolve("not login"),[r,h,t]),w=(0,o.useCallback)(async()=>{var e;let t=await f();k(null!==(e=null==t?void 0:t.first_login)&&void 0!==e&&e)},[f,k]);return(0,o.useEffect)(()=>{let e=(0,a.$o)("token",{raw:!0});!e&&t?m():e?h(!0):h(!1)},[t,m,h]),(0,o.useEffect)(()=>{t&&w()},[t,w]),{loginWithRedirect:e,isLogin:b,isLoading:n,logout:(0,o.useCallback)(e=>{c(e).then(()=>{(0,a.lS)()})},[c]),refreshToken:m,setIsLogin:h,error:d,login:p}}}},function(e){e.O(0,[6030,3332,541,2971,9119,7454,1744],function(){return e(e.s=18833)}),_N_E=e.O()}]);
//# sourceMappingURL=page-01664b919cb5d949.js.map